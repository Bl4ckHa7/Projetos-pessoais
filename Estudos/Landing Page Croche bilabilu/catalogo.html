<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <meta name="description" content="Catálogo Bila Bilu - Receitas de crochê, bonecos personalizados e coleções exclusivas.">
    <title>Bila Bilu · Catálogo de Crochê</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Montserrat:wght@300;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style2.css">
</head>
<body>
    <!-- Partículas de fundo (canvas) -->
    <canvas id="particles-canvas"></canvas>

    <!-- Efeito que segue o cursor (apenas em desktop) -->
    <div class="cursor-glow" id="cursorGlow"></div>

    <!-- Loader -->
    <div class="loader" id="loader">
        <div class="spinner"></div>
    </div>

    <!-- Header com pontinhos brilhantes -->
    <header>
        <div class="glow-dots"></div>
        <div class="header-content">
            <h1>Bila Bilu</h1>
            <p>Receitas exclusivas e amigurumis personalizados feitos com amor</p>
        </div>
    </header>

    <!-- Navegação -->
    <nav>
        <ul>
            <li><a href="#receitas">Receitas</a></li>
            <li><a href="#bonecos">Bonecos</a></li>
            <li><a href="#colecoes">Coleções</a></li>
            <li><a href="#sobre">Sobre</a></li>
            <li><a href="#contato">Contato</a></li>
            <li>
                <button id="dark-mode-toggle" class="dark-mode-btn" aria-label="Alternar modo escuro">
                    <i class="fas fa-moon"></i>
                </button>
            </li>
        </ul>
    </nav>

    <div class="container">
        <!-- Receitas -->
        <section id="receitas">
            <h2 class="section-title">Receitas de Crochê</h2>
            <div class="products" id="recipes-container"></div>
        </section>

        <!-- Bonecos e Carrossel -->
        <section id="bonecos">
            <h2 class="section-title">Bonecos Personalizados</h2>

            <div class="carousel" role="region" aria-label="Galeria de bonecos" aria-live="polite">
                <div class="carousel-inner" id="dolls-carousel">
                    <div class="carousel-item">
                        <img src="Imagens/IMG_0913.PNG" alt="Bonecos de crochê" loading="lazy">
                        <div class="carousel-caption">
                            <h3>Bonecos Personalizados</h3>
                            <p>Criados especialmente para você</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="Imagens/IMG_0921.PNG" alt="Bonecos de casal" loading="lazy">
                        <div class="carousel-caption">
                            <h3>Casais Personalizados</h3>
                            <p>Presentes únicos para ocasiões especiais</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="Imagens/IMG_0909.PNG" alt="Bonecos de bebê" loading="lazy">
                        <div class="carousel-caption">
                            <h3>Bonecos de Bebê</h3>
                            <p>Recordações fofas do seu pequeno</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-control prev" aria-label="Imagem anterior">&#10094;</button>
                <button class="carousel-control next" aria-label="Próxima imagem">&#10095;</button>
            </div>

            <div class="products" id="dolls-container"></div>
        </section>
    </div>

    <!-- Coleções (fundo diferenciado) -->
    <section class="collections" id="colecoes">
        <div class="container">
            <h2 class="section-title">Nossas Coleções</h2>
            <div class="products" id="collections-container"></div>
        </div>
    </section>

    <div class="container">
        <!-- Sobre -->
        <section id="sobre">
            <h2 class="section-title">Sobre Nós</h2>
            <p>Somos artesãos apaixonados por crochê, criando peças únicas e especiais desde 2010. Nossa missão é espalhar o amor pelo artesanato através de receitas detalhadas e bonecos personalizados que carregam histórias e significados especiais.</p>
            <button id="show-more-btn" class="btn" aria-expanded="false">Mostrar Mais</button>
            <div id="more-content" style="display: none; margin-top: 20px;">
                <p>Trabalhamos com materiais de alta qualidade e cada peça é feita com atenção aos detalhes. Nossas receitas são testadas e aprovadas por diversas artesãs antes de serem disponibilizadas para venda.</p>
                <p>Além de vender receitas e bonecos prontos, oferecemos workshops online para quem quer aprender ou aprimorar suas técnicas de crochê.</p>
            </div>
        </section>

        <!-- Contato -->
        <section id="contato">
            <h2 class="section-title">Contato</h2>
            <form id="contact-form" style="max-width: 500px; margin: 0 auto;">
                <div style="margin-bottom: 15px;">
                    <label for="name">Nome:</label>
                    <input type="text" id="name" required>
                </div>
                <div style="margin-bottom: 15px;">
                    <label for="email">Email:</label>
                    <input type="email" id="email" required>
                </div>
                <div style="margin-bottom: 15px;">
                    <label for="message">Mensagem:</label>
                    <textarea id="message" rows="5" required></textarea>
                </div>
                <button type="submit" class="btn">Enviar Mensagem</button>
            </form>
            <div id="form-success" style="display: none;"></div>
        </section>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; <span id="current-year"></span> Bila Bilu - Todos os direitos reservados</p>
        <div>
            <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" aria-label="Pinterest"><i class="fab fa-pinterest"></i></a>
            <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            <a href="#" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
        </div>
    </footer>

    <!-- Botão back to top -->
    <div class="back-to-top" id="back-to-top" title="Voltar ao topo">↑</div>

    <!-- Modal de produto -->
    <div class="modal" id="product-modal">
        <div class="modal-content">
            <span class="close-modal" aria-label="Fechar">&times;</span>
            <div id="modal-content"></div>
        </div>
    </div>

    <script>
        (function() {
            'use strict';

            // ===== LOADER =====
            const loader = document.getElementById('loader');
            window.addEventListener('load', () => {
                loader.classList.add('hidden');
                setTimeout(() => {
                    loader.style.display = 'none';
                }, 600);
            });

            // ===== ANO ATUAL =====
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // ===== BOTÃO MOSTRAR MAIS (acessível) =====
            const showMoreBtn = document.getElementById('show-more-btn');
            const moreContent = document.getElementById('more-content');
            showMoreBtn.addEventListener('click', () => {
                const isHidden = moreContent.style.display === 'none';
                moreContent.style.display = isHidden ? 'block' : 'none';
                showMoreBtn.textContent = isHidden ? 'Mostrar Menos' : 'Mostrar Mais';
                showMoreBtn.setAttribute('aria-expanded', isHidden);
            });

            // ===== FORMULÁRIO DE CONTATO =====
            const contactForm = document.getElementById('contact-form');
            const formSuccess = document.getElementById('form-success');
            contactForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const name = document.getElementById('name').value.trim();
                const email = document.getElementById('email').value.trim();
                const message = document.getElementById('message').value.trim();
                if (name && email && message) {
                    formSuccess.style.display = 'block';
                    formSuccess.textContent = 'Mensagem enviada com sucesso! Entraremos em contato em breve.';
                    contactForm.reset();
                    setTimeout(() => {
                        formSuccess.style.display = 'none';
                    }, 4000);
                } else {
                    alert('Por favor, preencha todos os campos.');
                }
            });

            // ===== BACK TO TOP =====
            const backToTop = document.getElementById('back-to-top');
            window.addEventListener('scroll', () => {
                backToTop.classList.toggle('active', window.scrollY > 300);
            });
            backToTop.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // ===== CARROSSEL =====
            const carouselInner = document.querySelector('.carousel-inner');
            const items = document.querySelectorAll('.carousel-item');
            const prevBtn = document.querySelector('.prev');
            const nextBtn = document.querySelector('.next');
            let currentIndex = 0;
            let intervalId;

            function updateCarousel() {
                carouselInner.style.transform = `translateX(-${currentIndex * 100}%)`;
            }

            function startCarousel() {
                intervalId = setInterval(() => {
                    currentIndex = (currentIndex + 1) % items.length;
                    updateCarousel();
                }, 6000);
            }

            function stopCarousel() {
                clearInterval(intervalId);
            }

            prevBtn.addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + items.length) % items.length;
                updateCarousel();
                stopCarousel();
                startCarousel(); // reinicia o intervalo após interação manual
            });

            nextBtn.addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % items.length;
                updateCarousel();
                stopCarousel();
                startCarousel();
            });

            // Pausa o carrossel quando o mouse está sobre ele
            carouselInner.addEventListener('mouseenter', stopCarousel);
            carouselInner.addEventListener('mouseleave', startCarousel);

            startCarousel();

            // ===== DADOS DOS PRODUTOS (SIMULAÇÃO) =====
            const productsData = {
                recipes: [
                    { id: 0, title: "Receita: Ursinho Fofinho", description: "Passo a passo completo para criar um lindo ursinho de crochê.", price: 25.90, image: "Imagens/IMG_0913.PNG" },
                    { id: 1, title: "Receita: Boneca Primavera", description: "Tutorial detalhado para fazer uma boneca com vestido florido.", price: 29.90, image: "Imagens/IMG_0913.PNG" },
                    { id: 2, title: "Receita: Conjunto Natalino", description: "Padrões para criar enfeites e bonecos de Natal.", price: 34.90, image: "Imagens/IMG_0913.PNG" }
                ],
                dolls: [
                    { id: 101, title: "Boneco Personalizado", description: "Encomende um boneco único feito especialmente para você.", price: 89.90, image: "Imagens/IMG_0913.PNG" },
                    { id: 102, title: "Casais Personalizados", description: "Bonecos feitos sob medida para presentear casais.", price: 149.90, image: "Imagens/IMG_0921.PNG" },
                    { id: 103, title: "Bonecos de Bebês", description: "Replique seu bebê em uma versão fofa de crochê.", price: 119.90, image: "Imagens/IMG_0909.PNG" }
                ],
                collections: [
                    { id: 201, title: "Coleção Inverno", description: "Bonecos e acessórios com tema de inverno.", image: "Imagens/IMG_0913.PNG" },
                    { id: 202, title: "Coleção Personagens", description: "Seus personagens favoritos em versão crochê.", image: "Imagens/IMG_0921.PNG" },
                    { id: 203, title: "Coleção Animais", description: "Diversos animais fofos feitos com crochê.", image: "Imagens/IMG_0909.PNG" }
                ]
            };

            function renderProducts(containerId, items, type) {
                const container = document.getElementById(containerId);
                container.innerHTML = '';
                items.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'product-card';
                    card.innerHTML = `
                        <div class="product-image"><img src="${item.image}" alt="${item.title}" loading="lazy"></div>
                        <div class="product-info">
                            <h3>${item.title}</h3>
                            <p>${item.description}</p>
                            ${item.price ? `<span class="price">R$ ${item.price.toFixed(2)}</span>` : ''}
                            <button class="btn view-product" data-id="${item.id}" data-type="${type}">Ver Detalhes</button>
                        </div>
                    `;
                    container.appendChild(card);
                });
            }

            renderProducts('recipes-container', productsData.recipes, 'recipe');
            renderProducts('dolls-container', productsData.dolls, 'doll');
            renderProducts('collections-container', productsData.collections, 'collection');

            // ===== MODAL =====
            const modal = document.getElementById('product-modal');
            const modalContent = document.getElementById('modal-content');
            const closeModal = document.querySelector('.close-modal');

            function openModal(product) {
                modalContent.innerHTML = `
                    <h2>${product.title}</h2>
                    <div style="display: flex; flex-wrap: wrap; gap: 20px;">
                        <img src="${product.image}" style="flex:1; min-width:200px; max-width:100%; border-radius:15px;" alt="${product.title}">
                        <div style="flex:2;">
                            <p>${product.description}</p>
                            ${product.price ? `<p class="price">R$ ${product.price.toFixed(2)}</p>` : ''}
                            <button class="btn">Adicionar ao Carrinho</button>
                        </div>
                    </div>
                `;
                modal.classList.add('active');
                document.body.style.overflow = 'hidden'; // impede rolagem
            }

            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('view-product')) {
                    const id = parseInt(e.target.dataset.id);
                    const type = e.target.dataset.type;
                    let product;
                    if (type === 'recipe') product = productsData.recipes.find(p => p.id === id);
                    else if (type === 'doll') product = productsData.dolls.find(p => p.id === id);
                    else product = productsData.collections.find(p => p.id === id);

                    if (product) openModal(product);
                }
            });

            function closeModalHandler() {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            }

            closeModal.addEventListener('click', closeModalHandler);
            window.addEventListener('click', (e) => {
                if (e.target === modal) closeModalHandler();
            });
            window.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal.classList.contains('active')) closeModalHandler();
            });

            // ===== MODO ESCURO =====
            const darkModeToggle = document.getElementById('dark-mode-toggle');
            const body = document.body;
            const icon = darkModeToggle.querySelector('i');

            if (localStorage.getItem('theme') === 'dark') {
                body.classList.add('dark-mode');
                icon.classList.replace('fa-moon', 'fa-sun');
            }

            darkModeToggle.addEventListener('click', () => {
                body.classList.toggle('dark-mode');
                const isDark = body.classList.contains('dark-mode');
                icon.classList.toggle('fa-moon', !isDark);
                icon.classList.toggle('fa-sun', isDark);
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            });

            // ===== EFEITO CURSOR GLOW (somente desktop) =====
            const cursorGlow = document.getElementById('cursorGlow');
            if (window.innerWidth > 768) {
                document.addEventListener('mousemove', (e) => {
                    cursorGlow.style.left = e.clientX + 'px';
                    cursorGlow.style.top = e.clientY + 'px';
                });
            } else {
                cursorGlow.style.display = 'none';
            }

            // ===== PARTÍCULAS DE FUNDO (CANVAS) =====
            const canvas = document.getElementById('particles-canvas');
            const ctx = canvas.getContext('2d');
            let width, height;
            let particles = [];
            let animationFrame;
            let resizeTimeout;

            function initParticles() {
                width = window.innerWidth;
                height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;
                particles = [];
                const particleCount = width < 768 ? 15 : 35; // menos partículas em mobile
                for (let i = 0; i < particleCount; i++) {
                    particles.push({
                        x: Math.random() * width,
                        y: Math.random() * height,
                        size: Math.random() * 2.5 + 1,
                        speedX: (Math.random() - 0.5) * 0.2,
                        speedY: (Math.random() - 0.5) * 0.2,
                        color: `rgba(217, 127, 119, ${Math.random() * 0.3})`
                    });
                }
            }

            function animateParticles() {
                ctx.clearRect(0, 0, width, height);
                particles.forEach(p => {
                    p.x += p.speedX;
                    p.y += p.speedY;
                    if (p.x < 0 || p.x > width) p.speedX *= -1;
                    if (p.y < 0 || p.y > height) p.speedY *= -1;

                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                    ctx.fillStyle = p.color;
                    ctx.fill();
                });
                animationFrame = requestAnimationFrame(animateParticles);
            }

            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    cancelAnimationFrame(animationFrame);
                    initParticles();
                    animateParticles();
                }, 200);
            });

            // Inicia partículas
            initParticles();
            animateParticles();

            // Respeita preferência por redução de movimento
            if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                cancelAnimationFrame(animationFrame);
            }
        })();
    </script>
</body>
</html>